/* Created by Perspecta http://www.perspecta.com */
/*
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
*/
package com.healthconcourse.vista.fhir.api.test.parser;

import com.healthconcourse.vista.fhir.api.data.Provider;
import com.healthconcourse.vista.fhir.api.parser.ProviderParser;
import org.junit.Assert;
import org.junit.Test;

import java.util.List;


public class ProviderParserTest {

    @Test
    public void TestSuccessfulProviderParse() {
        String input = "{ \"EncProv\": [ { \"Vprov\": { \"auditTrail\": \"14-A 119;\", \"comments\": \"\", \"dataSource\": \"LAB DATA\", \"dataSourceId\": 14, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"LAB SERVICE\", \"packageId\": 26, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"PRIMARY\", \"primarySecondaryCd\": \"P\", \"primarySecondarySc\": \"Primary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000397, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"NEW YORK\", \"provZip\": 99998, \"provider\": \"PROVIDER,FIVE\", \"providerId\": 988, \"providerNPI\": 9990000397, \"providerResId\": \"V-500-200-988\", \"resourceId\": \"V-500-9000010.06-11295\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"NOV 19,2013@09:27\", \"visitFHIR\": \"2013-11-19T09:27:00-05:00\", \"visitFM\": 3131119.0927, \"visitHL7\": \"201311190927-0500\", \"visitId\": 11527, \"visitResId\": \"V-500-9000010-11527\", \"vprovIen\": 11295 } }, { \"Vprov\": { \"auditTrail\": \"14-A 119;\", \"comments\": \"\", \"dataSource\": \"LAB DATA\", \"dataSourceId\": 14, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"LAB SERVICE\", \"packageId\": 26, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"SECONDARY\", \"primarySecondaryCd\": \"S\", \"primarySecondarySc\": \"Secondary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000504, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"\", \"provZip\": \"\", \"provider\": \"PROVIDER,SIXTEEN\", \"providerId\": 999, \"providerNPI\": 9990000504, \"providerResId\": \"V-500-200-999\", \"resourceId\": \"V-500-9000010.06-11296\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"NOV 19,2013@09:27\", \"visitFHIR\": \"2013-11-19T09:27:00-05:00\", \"visitFM\": 3131119.0927, \"visitHL7\": \"201311190927-0500\", \"visitId\": 11527, \"visitResId\": \"V-500-9000010-11527\", \"vprovIen\": 11296 } }, { \"Vprov\": { \"auditTrail\": \"14-A 119;\", \"comments\": \"\", \"dataSource\": \"LAB DATA\", \"dataSourceId\": 14, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"LAB SERVICE\", \"packageId\": 26, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"PRIMARY\", \"primarySecondaryCd\": \"P\", \"primarySecondarySc\": \"Primary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000397, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"NEW YORK\", \"provZip\": 99998, \"provider\": \"PROVIDER,FIVE\", \"providerId\": 988, \"providerNPI\": 9990000397, \"providerResId\": \"V-500-200-988\", \"resourceId\": \"V-500-9000010.06-11303\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"NOV 19,2013@09:24\", \"visitFHIR\": \"2013-11-19T09:24:00-05:00\", \"visitFM\": 3131119.0924, \"visitHL7\": \"201311190924-0500\", \"visitId\": 11537, \"visitResId\": \"V-500-9000010-11537\", \"vprovIen\": 11303 } }, { \"Vprov\": { \"auditTrail\": \"14-A 119;\", \"comments\": \"\", \"dataSource\": \"LAB DATA\", \"dataSourceId\": 14, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"LAB SERVICE\", \"packageId\": 26, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"SECONDARY\", \"primarySecondaryCd\": \"S\", \"primarySecondarySc\": \"Secondary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000504, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"\", \"provZip\": \"\", \"provider\": \"PROVIDER,SIXTEEN\", \"providerId\": 999, \"providerNPI\": 9990000504, \"providerResId\": \"V-500-200-999\", \"resourceId\": \"V-500-9000010.06-11304\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"NOV 19,2013@09:24\", \"visitFHIR\": \"2013-11-19T09:24:00-05:00\", \"visitFM\": 3131119.0924, \"visitHL7\": \"201311190924-0500\", \"visitId\": 11537, \"visitResId\": \"V-500-9000010-11537\", \"vprovIen\": 11304 } }, { \"Vprov\": { \"auditTrail\": \"14-A 119;\", \"comments\": \"\", \"dataSource\": \"LAB DATA\", \"dataSourceId\": 14, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"LAB SERVICE\", \"packageId\": 26, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"PRIMARY\", \"primarySecondaryCd\": \"P\", \"primarySecondarySc\": \"Primary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000397, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"NEW YORK\", \"provZip\": 99998, \"provider\": \"PROVIDER,FIVE\", \"providerId\": 988, \"providerNPI\": 9990000397, \"providerResId\": \"V-500-200-988\", \"resourceId\": \"V-500-9000010.06-11305\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"SEP 29,2014@12:57\", \"visitFHIR\": \"2014-09-29T12:57:00-05:00\", \"visitFM\": 3140929.1257, \"visitHL7\": \"201409291257-0500\", \"visitId\": 11538, \"visitResId\": \"V-500-9000010-11538\", \"vprovIen\": 11305 } }, { \"Vprov\": { \"auditTrail\": \"14-A 119;\", \"comments\": \"\", \"dataSource\": \"LAB DATA\", \"dataSourceId\": 14, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"LAB SERVICE\", \"packageId\": 26, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"SECONDARY\", \"primarySecondaryCd\": \"S\", \"primarySecondarySc\": \"Secondary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000504, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"\", \"provZip\": \"\", \"provider\": \"PROVIDER,SIXTEEN\", \"providerId\": 999, \"providerNPI\": 9990000504, \"providerResId\": \"V-500-200-999\", \"resourceId\": \"V-500-9000010.06-11306\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"SEP 29,2014@12:57\", \"visitFHIR\": \"2014-09-29T12:57:00-05:00\", \"visitFM\": 3140929.1257, \"visitHL7\": \"201409291257-0500\", \"visitId\": 11538, \"visitResId\": \"V-500-9000010-11538\", \"vprovIen\": 11306 } }, { \"Vprov\": { \"auditTrail\": \"14-A 119;\", \"comments\": \"\", \"dataSource\": \"LAB DATA\", \"dataSourceId\": 14, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"LAB SERVICE\", \"packageId\": 26, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"PRIMARY\", \"primarySecondaryCd\": \"P\", \"primarySecondarySc\": \"Primary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000397, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"NEW YORK\", \"provZip\": 99998, \"provider\": \"PROVIDER,FIVE\", \"providerId\": 988, \"providerNPI\": 9990000397, \"providerResId\": \"V-500-200-988\", \"resourceId\": \"V-500-9000010.06-11310\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"MAR 13,2015@13:44\", \"visitFHIR\": \"2015-03-13T13:44:00-05:00\", \"visitFM\": 3150313.1344, \"visitHL7\": \"201503131344-0500\", \"visitId\": 11539, \"visitResId\": \"V-500-9000010-11539\", \"vprovIen\": 11310 } }, { \"Vprov\": { \"auditTrail\": \"14-A 119;\", \"comments\": \"\", \"dataSource\": \"LAB DATA\", \"dataSourceId\": 14, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"LAB SERVICE\", \"packageId\": 26, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"SECONDARY\", \"primarySecondaryCd\": \"S\", \"primarySecondarySc\": \"Secondary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000504, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"\", \"provZip\": \"\", \"provider\": \"PROVIDER,SIXTEEN\", \"providerId\": 999, \"providerNPI\": 9990000504, \"providerResId\": \"V-500-200-999\", \"resourceId\": \"V-500-9000010.06-11311\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"MAR 13,2015@13:44\", \"visitFHIR\": \"2015-03-13T13:44:00-05:00\", \"visitFM\": 3150313.1344, \"visitHL7\": \"201503131344-0500\", \"visitId\": 11539, \"visitResId\": \"V-500-9000010-11539\", \"vprovIen\": 11311 } }, { \"Vprov\": { \"auditTrail\": \"19-A 989;\", \"comments\": \"\", \"dataSource\": \"TEXT INTEGRATION UTILITIES\", \"dataSourceId\": 19, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"ORDER ENTRY\\/RESULTS REPORTING\", \"packageId\": 170, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"PRIMARY\", \"primarySecondaryCd\": \"P\", \"primarySecondarySc\": \"Primary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000397, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"NEW YORK\", \"provZip\": 99998, \"provider\": \"PROVIDER,FIVE\", \"providerId\": 988, \"providerNPI\": 9990000397, \"providerResId\": \"V-500-200-988\", \"resourceId\": \"V-500-9000010.06-11320\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"NOV 19,2013@08:00\", \"visitFHIR\": \"2013-11-19T08:00:00-05:00\", \"visitFM\": 3131119.08, \"visitHL7\": \"201311190800-0500\", \"visitId\": 11525, \"visitResId\": \"V-500-9000010-11525\", \"vprovIen\": 11320 } }, { \"Vprov\": { \"auditTrail\": \"19-A 989;\", \"comments\": \"\", \"dataSource\": \"TEXT INTEGRATION UTILITIES\", \"dataSourceId\": 19, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"ORDER ENTRY\\/RESULTS REPORTING\", \"packageId\": 170, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"PRIMARY\", \"primarySecondaryCd\": \"P\", \"primarySecondarySc\": \"Primary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000397, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"NEW YORK\", \"provZip\": 99998, \"provider\": \"PROVIDER,FIVE\", \"providerId\": 988, \"providerNPI\": 9990000397, \"providerResId\": \"V-500-200-988\", \"resourceId\": \"V-500-9000010.06-11321\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"SEP 22,2014@13:00\", \"visitFHIR\": \"2014-09-22T13:00:00-05:00\", \"visitFM\": 3140922.13, \"visitHL7\": \"201409221300-0500\", \"visitId\": 11531, \"visitResId\": \"V-500-9000010-11531\", \"vprovIen\": 11321 } }, { \"Vprov\": { \"auditTrail\": \"19-A 989;\", \"comments\": \"\", \"dataSource\": \"TEXT INTEGRATION UTILITIES\", \"dataSourceId\": 19, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"ORDER ENTRY\\/RESULTS REPORTING\", \"packageId\": 170, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"PRIMARY\", \"primarySecondaryCd\": \"P\", \"primarySecondarySc\": \"Primary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000397, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"NEW YORK\", \"provZip\": 99998, \"provider\": \"PROVIDER,FIVE\", \"providerId\": 988, \"providerNPI\": 9990000397, \"providerResId\": \"V-500-200-988\", \"resourceId\": \"V-500-9000010.06-11322\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"MAR 1,2015@13:00\", \"visitFHIR\": \"2015-03-01T13:00:00-05:00\", \"visitFM\": 3150301.13, \"visitHL7\": \"201503011300-0500\", \"visitId\": 11533, \"visitResId\": \"V-500-9000010-11533\", \"vprovIen\": 11322 } }, { \"Vprov\": { \"auditTrail\": \"19-A 988;\", \"comments\": \"\", \"dataSource\": \"TEXT INTEGRATION UTILITIES\", \"dataSourceId\": 19, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"ORDER ENTRY\\/RESULTS REPORTING\", \"packageId\": 170, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Nursing Service Providers\", \"personClassId\": 274, \"personClassSpecialty\": \"\", \"primarySecondary\": \"PRIMARY\", \"primarySecondaryCd\": \"P\", \"primarySecondarySc\": \"Primary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990008879, \"provOffPhone\": \"\", \"provRole\": \"NURSE\", \"provState\": \"\", \"provZip\": \"\", \"provider\": \"NURSE,EIGHT\", \"providerId\": 20171, \"providerNPI\": 9990008879, \"providerResId\": \"V-500-200-20171\", \"resourceId\": \"V-500-9000010.06-11391\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"JUL 13,2015@08:21\", \"visitFHIR\": \"2015-07-13T08:21:00-05:00\", \"visitFM\": 3150713.0821, \"visitHL7\": \"201507130821-0500\", \"visitId\": 11615, \"visitResId\": \"V-500-9000010-11615\", \"vprovIen\": 11391 } }, { \"Vprov\": { \"auditTrail\": \"14-A 119;\", \"comments\": \"\", \"dataSource\": \"LAB DATA\", \"dataSourceId\": 14, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"LAB SERVICE\", \"packageId\": 26, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"PRIMARY\", \"primarySecondaryCd\": \"P\", \"primarySecondarySc\": \"Primary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000397, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"NEW YORK\", \"provZip\": 99998, \"provider\": \"PROVIDER,FIVE\", \"providerId\": 988, \"providerNPI\": 9990000397, \"providerResId\": \"V-500-200-988\", \"resourceId\": \"V-500-9000010.06-11392\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"JUL 20,2015@08:39\", \"visitFHIR\": \"2015-07-20T08:39:00-05:00\", \"visitFM\": 3150720.0839, \"visitHL7\": \"201507200839-0500\", \"visitId\": 11616, \"visitResId\": \"V-500-9000010-11616\", \"vprovIen\": 11392 } }, { \"Vprov\": { \"auditTrail\": \"14-A 119;\", \"comments\": \"\", \"dataSource\": \"LAB DATA\", \"dataSourceId\": 14, \"editedFlag\": \"\", \"editedFlagCd\": \"\", \"eventDateAndTime\": \"\", \"eventDateAndTimeFHIR\": \"\", \"eventDateAndTimeFM\": \"\", \"eventDateAndTimeHL7\": \"\", \"operatingAttending\": \"\", \"operatingAttendingCd\": \"\", \"package\": \"LAB SERVICE\", \"packageId\": 26, \"patientICN\": \"5000001533V676621\", \"patientName\": \"SARAH,JANE O\", \"patientNameId\": 100880, \"personClass\": \"Physicians (M.D. and D.O.)\", \"personClassId\": 1, \"personClassSpecialty\": \"\", \"primarySecondary\": \"SECONDARY\", \"primarySecondaryCd\": \"S\", \"primarySecondarySc\": \"Secondary\", \"provAddress1\": \"\", \"provAddress2\": \"\", \"provCity\": \"\", \"provNpi\": 9990000504, \"provOffPhone\": \"\", \"provRole\": \"Physician\", \"provState\": \"\", \"provZip\": \"\", \"provider\": \"PROVIDER,SIXTEEN\", \"providerId\": 999, \"providerNPI\": 9990000504, \"providerResId\": \"V-500-200-999\", \"resourceId\": \"V-500-9000010.06-11393\", \"resourceType\": \"Encounter\", \"verified\": \"\", \"verifiedCd\": \"\", \"visit\": \"JUL 20,2015@08:39\", \"visitFHIR\": \"2015-07-20T08:39:00-05:00\", \"visitFM\": 3150720.0839, \"visitHL7\": \"201507200839-0500\", \"visitId\": 11616, \"visitResId\": \"V-500-9000010-11616\", \"vprovIen\": 11393 } } ] }";
        ProviderParser parser = new ProviderParser();

        List<Provider> result = parser.parseList(input);

        Assert.assertEquals("Correct number of items", 3, result.size());
        Provider provider = result.get(2);
        Assert.assertEquals("Name is correct", "PROVIDER,SIXTEEN", provider.getName());
        Assert.assertEquals("Resource ID is correct", "V-500-200-999", provider.getVistaId());
        Assert.assertEquals("Visit ID is correct", "V-500-9000010-11527", provider.getEncounter());
        Assert.assertFalse("Secondary is correct", provider.isPrimary());
    }

    @Test
    public void TestProviderParseBlankInput() {
        String input = "";

        ProviderParser parser = new ProviderParser();

        List<Provider> result = parser.parseList(input);

        Assert.assertEquals("Correct number of items", 0, result.size());
    }

    @Test
    public void TestProviderParseNullInput() {

        ProviderParser parser = new ProviderParser();

        List<Provider> result = parser.parseList(null);

        Assert.assertEquals("Correct number of items", 0, result.size());
    }
}
